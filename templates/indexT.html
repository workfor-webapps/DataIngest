{% extends 'base.html' %}
{% block head %}
<h2>Table 1</h2>
{% endblock %}
<br>
{% block body %}

<meta id="pub_data" value="{{pub_data['doi']}}">
<meta id="table_number" value="{{table_num}}">

<!-- <div class="jumbotron"> -->
    <div class="container-fluid">
        <div class="row">
            <div class="col-4">
                <strong>{{pub_data["title"]}}</strong>
                <br>
                <br>

                <p>{{pub_data["authors"]}}</p>

                <p><i>{{pub_data["jur"]}}</i></p>

                <a href="https://doi.org/{{DOI}}">doi: {{pub_data["doi"]}} </a><img src="../static/link-256.webp" width="15">
                <br>
                <br>
                <a href="{{pdf_url}}" target="_blank">Open PDF </a><img src="../static/link-256.webp" width="15">

                <hr>

            </div>
            <div class="col-6">

               <form class="form-horizontal" id="concept_form" action="" method="POST">  
                
                   <div class="row form-group">
                       <div class="col text-right ">
                           <label for="ref_con"><b>Reference Concept</b></label>

                       </div>
                       <div class="col">
                           <select class="control-label" id="ref_con" >
                               <option selected>Leadership </option>
                               <option value="1">training</option>
                               <option value="2">effectiveness</option>
                               <option value="3">Other</option>
                           </select>
                       </div>
                       

                   </div>

                   <div class="row form-group">
                       <div class="col text-right">
                           <label for="con_cat"><b>Concept Theme</b></label>

                       </div>
                       <div class="col">
                           <select class="control-label" id="con_cat" aria-label=" ">
                               <option selected>Leadership </option>
                               <option value="1">One</option>
                               <option value="2">Two</option>
                               <option value="3">Three</option>
                           </select>
                       </div>
                   </div>
                   <div class="row form-group">
                       <div class="col text-right">
                           <label for="con_dir"><b>Concept Direction</b></label>

                       </div>
                       <div class="col">
                           <select class="control-label" id="con_dir" aria-label=" ">
                               <option selected>Outcome</option>
                               <option value="1">One</option>
                               <option value="2">Two</option>
                               <option value="3">Three</option>
                           </select>
                       </div>
                   </div>
                   <div class="row form-group">
                       <div class="col text-right">
                           <label for="eff_type"><b>Effect Type</b></b></label>

                       </div>
                       <div class="col">
                           <select class="control-label" id="eff_type" aria-label=" ">
                               <option selected>Correlation</option>
                               <option value="1">One</option>
                               <option value="2">Two</option>
                               <option value="3">Three</option>
                           </select>
                       </div>
                   </div>

<!--                    <input class= "btn btn-outline-success" type="submit" value="Submit">-->
                </form>
            </div>
        </div>
        <div class="row">
            <div class="col-5 "> <!-- This div is for image and magnifier-->
                <!-- <style>
                    * {box-sizing: border-box;}
                    
                    .img-magnifier-container {
                      position:relative;
                    }
                    
                    .img-magnifier-glass {
                      position: absolute;
                      border: 3px solid #000;
                      border-radius: 50%;
                      cursor: auto;
                      /*Set the size of the magnifier glass:*/
                      width: 100px;
                      height: 100px;
                    }
                </style> -->
                <!-- <img id = "pageImage" class="img-fluid shadow-lg p-3 mb-5 bg-white" src='../static/capture.png'> -->
                
                    <iframe style="position: sticky; position: -webkit-sticky; top: 0;"  width="750" height="900" src={{tables}}> </iframe> 
                
            </div>


            <div class="col-6">
                <div class="row">
                    <div class="col-9">
                        <form class="form-inline" >
                            <label for="concept" class="mr-sm-2">Concept Category :</label>
                            <input type="concept" class="form-control mb-2 mr-sm-2" placeholder="concept" id="concept">
                            <div class="form-check mb-2 mr-sm-2"></div>
                            <a class="btn btn-info btn-sm" onclick="applyAll()">Apply to all</a>
                            <div class="form-check mb-2 mr-sm-2"></div>
                            <a class="btn btn-info btn-sm" onclick="ClearAll()">Clear all</a>
                        </form>  
                    </div>
                    <div class="col-3">
                        <h4>
                            <div style="text-align: right;">Table {{table_num+1}}/{{max_tables}} </span></div>
                        </h4>

                        <br>
                    </div>
                </div>
                <h6 style="color: crimson;"> (* To ignore a column leave the column title blank) </h6>
                
                <div class="row">
                
                    {{table_html | safe}}                               

                </div>
               <div class="row">
                    <div class="col-4">
                        <a style="text-align: center;" class="btn btn-light btn-sm" onclick="add_bott()"> + Add new row </a>

                    </div>
                    <div class="col-8">
                        
                        <meta id="my-data" data-value="{{max_tables}}">

                        <a class="btn btn-danger btn-lg" onclick="Ignore()">Ignore</a>

                        <a class="btn btn-success btn-lg" onclick="html2json()"> Accept </a>

                    </div>
                </div>


            </div>
        </div>

    </div>
<!-- </div> -->


<script src="/static/css/bootstable.js"></script>
<script src="/static/css/script.js"></script>
<script>

$("#pdf").SetEditable();
function add_bott() {
        rowAddNewAndEdit('pdf');
  };


</script>


{% endblock %}